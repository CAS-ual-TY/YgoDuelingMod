package de.cas_ual_ty.ydm.deckbox;

import de.cas_ual_ty.ydm.YdmDatabase;
import de.cas_ual_ty.ydm.YdmItems;
import de.cas_ual_ty.ydm.card.properties.Properties;
import de.cas_ual_ty.ydm.duel.DeckSource;
import net.minecraft.network.chat.Component;

import java.util.LinkedList;
import java.util.List;
import java.util.function.Predicate;
import java.util.function.Supplier;

public class CustomDecks
{
    public static final Supplier<DeckHolder> OJAMA_DECK_MAKER = new DeckBuilder()
            
            .startMainDeck()
            .name("Ojama Green")
            .repeat()
            .repeat()
            .name("Ojama Yellow")
            .repeat()
            .repeat()
            .name("Ojama Black")
            .repeat()
            .repeat()
            .name("Ojama Blue")
            .repeat()
            .repeat()
            .name("Ojama Red")
            .name("Rescue Cat")
            .repeat()
            .name("Ojama Country")
            .repeat()
            .repeat()
            .name("Ojama Delta Hurricane!!")
            .repeat()
            .name("Ojamagic")
            .repeat()
            .repeat()
            .name("Terraforming")
            .name("Twin Twisters")
            .repeat()
            .name("Polymerization")
            .repeat()
            .repeat()
            .name("Magical Hats")
            .repeat()
            .repeat()
            .name("Ojama Duo")
            .repeat()
            .repeat()
            .name("Ojama Trio")
            .repeat()
            .repeat()
            .name("Drowning Mirror Force")
            .repeat()
            
            .startExtraDeck()
            .name("Ojama King")
            .repeat()
            .name("Ojama Knight")
            .name("Armored Kappa")
            .name("Herald of Pure Light")
            .name("Number 64: Ronin Raccoon Sandayu")
            .name("Number 96: Dark Mist")
            .name("Paleozoic Anomalocaris")
            .name("Paleozoic Opabinia")
            .name("Sky Cavalry Centaurea")
            .repeat()
            .name("The Phantom Knights of Cursed Javelin")
            .repeat()
            .name("Ojama Emperor")
            .repeat()
            
            .startSideDeck()
            .name("King of the Swamp")
            .repeat()
            .repeat()
            .name("Ojama Red")
            .name("Ojama Knight")
            .name("Ojama Emperor")
            .name("Future Fusion")
            .repeat()
            .repeat()
            .name("Twin Twisters")
            .name("Imperial Order")
            .name("Recall")
            .repeat()
            .name("Solemn Judgment")
            .name("Rescue Cat")
            
            .build();
    
    public static final Supplier<DeckHolder> KING_SCRUBBY_DECK_1 = new DeckBuilder()
            
            .startMainDeck()
            .id(46986414L)
            .repeat()
            .repeat()
            .id(7084129L)
            .repeat()
            .id(30603688L)
            .repeat()
            .id(38033121L)
            .repeat()
            .id(35191415L)
            .repeat()
            .id(14824019L)
            .id(97268402L)
            .id(97631303L)
            .repeat()
            .id(47222536L)
            .repeat()
            .repeat()
            .id(75190122L)
            .id(60709218L)
            .id(41735184L)
            .id(2314238L)
            .id(89739383L)
            .id(23314220L)
            .repeat()
            .id(1784686L)
            .id(12580477L)
            .id(73915051L)
            .id(83764719L, (byte) 1)
            .id(48680970L)
            .repeat()
            .repeat()
            .id(7922915L)
            .repeat()
            .repeat()
            .id(41420027L)
            .repeat()
            .id(84749824L)
            .id(40605147L)
            .repeat()
            
            .startExtraDeck()
            .id(37818794L)
            .id(41721210L)
            .id(50237654L)
            .id(83994433L)
            .id(44508094L)
            .id(76774528L)
            .id(96471335L)
            .repeat()
            .id(85551711L)
            .id(80117527L)
            .id(92918648L)
            
            .startSideDeck()
            .id(84433295L)
            .id(97631303L)
            .id(15693423L)
            .id(63391643L)
            .id(89739383L)
            .id(11827244L)
            .id(77565204L)
            .id(73616671L)
            
            .build();
    
    public static final Supplier<DeckHolder> BLESS_DECK_1 = new DeckBuilder()
            
            .startMainDeck()
            .name("Nibiru, the Primal Being")
            .name("Apprentice Illusion Magician")
            .repeat()
            .name("Danger! Mothman!")
            .name("Duza the Meteor Cubic Vessel")
            .repeat()
            .repeat()
            .name("Summoner Monk")
            .repeat()
            .repeat()
            .name("Ash Blossom & Joyous Spring")
            .repeat()
            .name("Karakuri Barrel mdl 96 \"Shinkuro\"")
            .repeat()
            .name("Mecha Phantom Beast Warbluran")
            .repeat()
            .name("Vijam the Cubic Seed")
            .name("Effect Veiler")
            .name("Magicians' Souls")
            .repeat()
            .repeat()
            .name("Foolish Burial Goods")
            .repeat()
            .repeat()
            .name("Cosmic Cyclone")
            .repeat()
            .name("Called by the Grave")
            .name("Prohibition")
            .repeat()
            .name("Cubic Dharma")
            .name("Cubic Karma")
            .repeat()
            .repeat()
            .name("Black Garden")
            .name("Infinite Impermanence")
            .repeat()
            .repeat()
            .name("Unification of the Cubic Lords")
            .repeat()
            .repeat()
            
            .startExtraDeck()
            .name("Ultimaya Tzolkin")
            .name("Crystal Wing Synchro Dragon")
            .repeat()
            .name("Karakuri Steel Shogun mdl 00X \"Bureido\"")
            .name("Garden Rose Maiden")
            .name("Phonon Pulse Dragon")
            .name("Martial Metal Marcher")
            .name("Borreload Dragon")
            .name("Accesscode Talker")
            .name("Knightmare Unicorn")
            .name("Mecha Phantom Beast Auroradon")
            .name("Knightmare Phoenix")
            .name("Knightmare Cerberus")
            .name("Crystron Halqifibrax")
            .name("Barricadeborg Blocker")
            
            .build();
    
    public static final Supplier<DeckHolder> KING_SCRUBBY_DECK_2 = new DeckBuilder()
            
            .startMainDeck()
            .id(14778250L)
            .repeat()
            .id(20932152L)
            .id(78922939L)
            .repeat()
            .repeat()
            .id(63977008L)
            .repeat()
            .repeat()
            .id(56410040L)
            .repeat()
            .repeat()
            .id(93187568L)
            .repeat()
            .id(23571046L)
            .repeat()
            .repeat()
            .id(53855409L)
            .repeat()
            .repeat()
            .id(57458399L)
            .repeat()
            .id(36643046L)
            .id(34492631L)
            .id(65367484L)
            .id(57568840L)
            .id(8487449L)
            .repeat()
            .id(15310033L)
            .id(2295440L)
            .id(12580477L)
            .id(32807846L)
            .id(81439173L, (byte) 1)
            .id(83764719L)
            .id(96363153L)
            .repeat()
            .repeat()
            .id(27196937L)
            .id(59919307L)
            .id(98427577L)
            
            .startExtraDeck()
            .id(35952884L)
            .id(24696097L)
            .id(89474727L)
            .id(50954680L)
            .id(74860293L)
            .id(44508094L)
            .id(68431965L)
            .id(97792247L)
            .id(59771339L)
            .id(42810973L)
            .id(64880894L)
            .id(77075360L)
            .id(37675907L)
            .id(50091196L)
            
            .build();
    
    public static final Supplier<DeckHolder> TIME_BLAZING_GAMING_DECK_1 = new DeckBuilder()
            
            .startMainDeck()
            .id(24154052L)
            .id(35595518L)
            .repeat()
            .repeat()
            .id(16188701L)
            .repeat()
            .repeat()
            .id(8567955L)
            .repeat()
            .repeat()
            .id(13090893L)
            .repeat()
            .repeat()
            .id(10705656L)
            .repeat()
            .repeat()
            .id(62706865L)
            .repeat()
            .repeat()
            .id(63528891L)
            .repeat()
            .repeat()
            .id(65100616L)
            .repeat()
            .repeat()
            .id(18789533L)
            .repeat()
            .repeat()
            .id(57160136L)
            .repeat()
            .repeat()
            .id(73628505L)
            .id(75500286L)
            .id(83764719L, (byte) 1)
            .id(99674361L)
            .repeat()
            .repeat()
            .id(42461852L)
            .repeat()
            .id(61583217L)
            
            .startExtraDeck()
            .id(5821478L)
            .id(31833038L)
            .id(68987122L)
            .id(85289965L)
            .id(86066372L)
            .id(6622715L)
            .id(15844566L)
            .id(30822527L)
            .id(46947713L)
            .id(88093706L)
            .id(59859086L)
            .id(77058170L)
            .id(24842059L)
            .id(41999284L)
            .id(68934651L)
            
            .build();
    
    public static final Supplier<DeckHolder> LUIS_RAVEN_FLAME_DECK_1 = new DeckBuilder()
            .startMainDeck()
            .id(10000040L)
            .id(10000000L)
            .id(10000000L)
            .id(15771991L)
            .id(15771991L)
            .id(15771991L)
            .id(10000010L)
            .id(10000010L)
            .id(10000020L, (byte) 1)
            .id(10000080L)
            .id(10000080L)
            .id(74875003L)
            .id(74875003L)
            .id(74875003L)
            .id(79387392L)
            .id(79387392L)
            .id(79387392L)
            .id(39913299L)
            .id(39913299L)
            .id(39913299L)
            .id(52112003L)
            .id(52112003L)
            .id(52112003L)
            .id(73628505L)
            .id(78665705L)
            .id(78665705L)
            .id(78665705L)
            .id(84211599L)
            .id(84211599L)
            .id(84211599L)
            .id(5253985L)
            .id(5253985L)
            .id(5253985L)
            .id(73468603L)
            .id(269012L)
            .id(269012L)
            .id(269012L)
            .id(89208725L)
            .id(26905245L)
            .id(26905245L)
            .startExtraDeck()
            .id(42166000L)
            .id(42166000L)
            .id(42166000L)
            .id(65330383L)
            .id(65330383L)
            .id(65330383L)
            .id(38342335L)
            .id(38342335L)
            .id(38342335L)
            .id(2857636L)
            .id(2857636L)
            .id(2857636L)
            .id(75452921L)
            .id(75452921L)
            .id(75452921L)
            .startSideDeck()
            .id(76375976L)
            
            .build();
    
    public static final Supplier<DeckHolder> LUIS_RAVEN_FLAME_DECK_2 = new DeckBuilder()
            .startMainDeck()
            .id(25451383L)
            .id(25451383L)
            .id(25451383L)
            .id(35984222L)
            .id(62962630L)
            .id(62962630L)
            .id(62962630L)
            .id(68468459L)
            .id(68468459L)
            .id(68468459L)
            .id(45484331L)
            .id(55273560L)
            .id(55273560L)
            .id(19096726L)
            .id(15717011L)
            .id(79109599L)
            .id(79109599L)
            .id(79109599L)
            .id(36577931L)
            .id(36577931L)
            .id(24094653L)
            .id(24094653L)
            .id(33782437L)
            .id(34995106L)
            .id(44362883L)
            .id(44362883L)
            .id(44362883L)
            .id(70368879L)
            .id(75500286L)
            .id(81439173L)
            .id(36637374L)
            .id(36637374L)
            .id(36637374L)
            .id(18973184L)
            .id(18973184L)
            .id(18973184L)
            .id(99543666L)
            .id(1041278L)
            .id(6763530L)
            .id(17751597L)
            .startExtraDeck()
            .id(18666161L)
            .id(11321089L)
            .id(37818794L)
            .id(44146295L)
            .id(44146295L)
            .id(41209828L)
            .id(69946549L)
            .id(70534340L)
            .id(3410461L)
            .id(72272462L)
            .id(1906812L)
            .id(6855503L)
            .id(34848821L)
            .id(87746184L)
            .id(87746184L)
            
            .build();
    
    
    public static List<DeckSource> getAllPatreonDeckSources()
    {
        List<DeckSource> list = new LinkedList<>();
        
        CustomDecks.addDeckSource(list, CustomDecks.OJAMA_DECK_MAKER, Component.literal("CAS_ual_TY's Ojarampage"), (c) -> c.getName().equals("Ojama Delta Hurricane!!"));
        CustomDecks.addDeckSource(list, CustomDecks.KING_SCRUBBY_DECK_1, Component.literal("King's Soul"), (c) -> c.getName().equals("Dark Magical Circle"));
        CustomDecks.addDeckSource(list, CustomDecks.BLESS_DECK_1, Component.literal("\"Why did we make this?\""), (c) -> c.getName().equals("Duza the Meteor Cubic Vessel"));
        CustomDecks.addDeckSource(list, CustomDecks.KING_SCRUBBY_DECK_2, Component.literal("King's Stardust Deck"), (c) -> c.getName().equals("Stardust Dragon"));
        CustomDecks.addDeckSource(list, CustomDecks.TIME_BLAZING_GAMING_DECK_1, Component.literal("Blazing's Cynet Awakening"), (c) -> c.getName().equals("Accesscode Talker"));
        CustomDecks.addDeckSource(list, CustomDecks.LUIS_RAVEN_FLAME_DECK_1, Component.literal("LuisRavenFlame1's Gods of Egypt"), (c) -> c.getName().equals("Holactie the Creator of Light"));
        CustomDecks.addDeckSource(list, CustomDecks.LUIS_RAVEN_FLAME_DECK_2, Component.literal("LuisRavenFlame1's Branded Control"), (c) -> c.getName().equals("Fallen of Albaz"));
        
        return list;
    }
    
    public static void addDeckSource(List<DeckSource> decks, Supplier<DeckHolder> deckHolder, Component name, Predicate<Properties> flagShipCardChooser)
    {
        try
        {
            DeckHolder deck = deckHolder.get();
            
            Properties card = YdmDatabase.PROPERTIES_LIST.getByIndex(0);
            
            if(deck.getMainDeck() != null && deck.getMainDeckSize() > 0)
            {
                card = deck.getMainDeck().get(0).getCard();
            }
            
            for(Properties c : YdmDatabase.PROPERTIES_LIST)
            {
                if(flagShipCardChooser.test(c))
                {
                    card = c;
                    break;
                }
            }
            
            DeckSource s = new DeckSource(deck, YdmItems.CARD.get().createItemForCard(card), name);
            decks.add(s);
        }
        catch(Exception e)
        {
        }
    }
}
